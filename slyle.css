/* Importar tipografía de Google, similar a la de WhatsApp */
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');

/* --- 1. Estilos Generales y Fondo --- */
body {
    font-family: 'Roboto', sans-serif;
    margin: 0;
    padding: 0;
    
    /* Centrado en Pantalla Completa y Adaptabilidad */
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh; 
    
    /* Fondo con textura de WhatsApp (Color base y ligera textura) */
    background-color: #ECE5DD; 
    
    /* Opcional: Si quieres un fondo con patrón (requiere una imagen)
    background-image: url('whatsapp_wallpaper.png'); 
    background-size: cover; */
    
    color: #1F2E35; 
    overflow-y: scroll; /* Permite scroll incluso en el cuerpo si es necesario */
}

/* --- 2. Contenedor Principal (Ventana de Chat) --- */
.chat-container {
    width: 100%; /* Ocupa el 100% del ancho en móvil */
    max-width: 600px; /* Ancho máximo estándar de chat */
    height: 100vh; /* Ocupa toda la altura de la pantalla */
    
    background-color: transparent; /* Fondo transparente para que se vea el fondo del body */
    border-radius: 0; /* Sin bordes redondeados para simular una app */
    display: flex;
    flex-direction: column;
    padding: 0; 
    box-shadow: none; /* Sin sombra para look de aplicación */
}

.chat-box {
    flex: 1;
    overflow-y: auto;
    padding: 10px 8px; /* Padding interno */
    background-color: transparent;
}

/* Esconder la barra de scroll para una apariencia más limpia */
.chat-box::-webkit-scrollbar {
    display: none;
}
.chat-box {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}

/* --- 3. Estilos de Burbujas (La Clave) --- */
.usuario, .ia {
    position: relative;
    padding: 8px 10px 6px 10px; /* Ajuste fino del padding para el texto */
    margin: 4px 0;
    max-width: 80%;
    word-wrap: break-word;
    line-height: 1.35;
    font-size: 15px; /* Tamaño de fuente real */
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
    border-radius: 8px; /* Bordes menos redondeados */
}

/* Flecha de la burbuja (Se logra con CSS tricks) */
.usuario::after, .ia::before {
    content: '';
    position: absolute;
    top: 0;
    width: 0;
    height: 0;
    border-style: solid;
}

/* BURBUJA DEL USUARIO (Flotada a la derecha - Verde WhatsApp) */
.usuario {
    background-color: #DCF8C6; 
    color: #000000; 
    align-self: flex-end; 
    margin-left: auto; 
    border-radius: 8px 0 8px 8px; /* Esquina superior derecha recta */
    padding-right: 25px; /* Espacio para el checkmark */
}

/* Flecha del Usuario (Pequeño triángulo) */
.usuario::after {
    border-width: 0 10px 10px 0;
    border-color: transparent #DCF8C6 transparent transparent;
    right: -9px;
    top: 0;
}


/* BURBUJA DEL BOT/IA (Flotada a la izquierda - Blanco/Gris WhatsApp) */
.ia {
    background-color: #FFFFFF; 
    color: #000000; 
    align-self: flex-start; 
    margin-right: auto; 
    border-radius: 0 8px 8px 8px; /* Esquina superior izquierda recta */
}

/* Flecha del Bot (Pequeño triángulo) */
.ia::before {
    border-width: 10px 10px 0 0;
    border-color: #FFFFFF transparent transparent transparent;
    left: -9px;
    top: 0;
}


/* Ticks de Confirmación (Elemento visual crucial) */
.ia::after {
    content: '✓✓'; /* Doble tick (emulado) */
    position: absolute;
    bottom: 0px;
    right: 5px;
    font-size: 10px;
    color: #4FC3F7; /* Azul de WhatsApp */
    z-index: 10;
    padding-left: 5px;
}

/* --- 4. Estilos de Entrada (Footer de la App) --- */
.chat-container > div:last-child {
    display: flex;
    align-items: center;
    padding: 8px;
    background-color: #F0F0F0; /* Barra inferior gris claro */
}

#userInput {
    flex-grow: 1; /* Ocupa el espacio restante */
    padding: 12px 18px;
    border-radius: 25px; /* Más redondo que antes */
    border: none;
    background-color: #FFFFFF; 
    color: #000000;
    font-size: 15px;
    margin-right: 8px;
}

#sendBtn {
    /* Mantenemos el botón redondo, pero con ícono de micrófono */
    background-color: #25D366; 
    color: white;
    width: 45px;
    height: 45px;
    border-radius: 50%;
    
    /* Usaremos un ícono simulado aquí, idealmente un emoji o un font icon */
    font-size: 18px;
    line-height: 1;
    content: '>'; /* Usaremos un ">" simple como icono de enviar */
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
}

#sendBtn:hover {
    background-color: #128C7E;
}

/* Media Query para Escritorio: Evita que ocupe toda la pantalla */
@media (min-width: 768px) {
    .chat-container {
        height: 85vh; /* Se encoge un poco en pantallas grandes */
        max-width: 500px; /* Vuelve al ancho máximo */
        border-radius: 10px; /* Añade bordes si no es pantalla completa */
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2); 
    }
}
